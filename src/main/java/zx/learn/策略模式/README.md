# 策略模式
## 一、模式定义
​ 在前面中对策略模式应该有了一个最初步的认识。那么什么是策略模式呢？所谓策略模式就是定义了算法族，分别封装起来，让他们之前可以互相转换，此模式然该算法的变化独立于使用算法的客户。

​ 在软件系统中有很多种方法可以实现同一个功能，比如排序算法它有冒泡排序、选择排序、快速排序、插入排序等等。这里我们有一种硬编码方法，就是讲所以的排序算法全部写在一个类中，每一种算法的具体实现对应着一个方法，然后写一个总方法通过if…else…来判断选择具体的排序算法，但是这样做存在几个问题。

- 第一：如果需要增加新的算法，则需要修改源代码。

- 第二：如果更新了排序算法，那么需要在客户端也需要修改代码，麻烦。

- 第三：充斥着大量的if…else…语句，代码维护比较困难。

​ 所以为了解决这些问题，我们可以定义一些独立的类来封装不同的算法，每一个独立的类对应着一个具体的算法实现，在这里我们就将这里每一个独立的类称之为一个策略。

## 二、模式结构

​ 状态模式是通过改变对象内部的状态来帮助对象控制自己的行为，我们可以这样理解状态模式其实是对状态进行封装，它是将动作动作的实现和责任进行分割，把动作委托到代表当前状态的对象。而策略模式是对算法进行封装，把算法的责任和算法本身进行分割开来，同时委派给不同的对象进行管理。策略模式是将一个系列的算法封装到一系列的策略里面。

​ 其实对于算法的选择，策略模式并不关心，它只是对算法进行封装，至于算法什么时候什么地方使用什么算法都是客户所决定的，这样就提高了系统的灵活性，但同时也增加了客户的负担，因为客户需要清楚知道选择什么样的算法对自己最有利，这就需要客户对每一个算法都清楚知道他们的区别。

## 四、模式优缺点Technorati 标记: 设计模式
### 优点
1. 策略模式提供了对“开闭原则”的完美支持，用户可以在不修改原有系统的基础上选择算法或行为，也可以灵活地增加新的算法或行为。
2. 策略模式提供了可以替换继承关系的办法。

3. 使用策略模式可以避免使用多重条件转移语句。

### 缺点

1. 客户端必须知道所有的策略类，并自行决定使用哪一个策略类。
2. 策略模式将造成产生很多策略类，

## 五、使用场景

1. 如果在一个系统里面有许多类，它们之间的区别仅在于它们的行为，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。
2. 一个系统需要动态地在几种算法中选择一种。